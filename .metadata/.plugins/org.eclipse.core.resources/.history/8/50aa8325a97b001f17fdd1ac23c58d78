/*
 * ex10.c
 *
 *  Created on: Sep 22, 2024
 *      Author: thuyh
 */
#include "ex10.h"
int index_col_10 = 0;
int state = 0;
int num = 0;
void ex10_init(){
	setTimer1(0, 50);
    setTimer1(1, 400);
	updateMatrixBuffer(0x00, 0x0FC, 0x0A, 0x09, 0x09, 0x0A, 0x0FC, 0x00);
}
void ex10_run() {
	switch(state){
	case 0:
		if(num >=8){
			num = 0;
		}
		if(index_col_10>=8){
			index_col_10 = 0;
		}
		if(timer1_flag[1]==1){
			setTimer1(1, 400);
			num++;
		}


		if(timer1_flag[0]==1){
			char_matrix('2');
			setTimer1(0, 50);
			updateLEDMatrix(index_col_10);
			index_col_10++;
		}
		state ++;
		break;
	case 1:
		if(num >=8){
			num = 0;
		}
		if(index_col_10>=8){
			index_col_10 = 0;
		}
		if(timer1_flag[1]==1){
			setTimer1(1, 400);
			updateLEDMatrix(index_col_10);
			num++;
		}


		if(timer1_flag[0]==1){
			char_matrix('S');
			setTimer1(0, 50);
			index_col_10++;
		}
		state =0;
	}
}



