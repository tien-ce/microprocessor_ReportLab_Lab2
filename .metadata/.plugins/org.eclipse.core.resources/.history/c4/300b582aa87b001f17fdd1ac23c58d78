/*
 * ex10.c
 *
 *  Created on: Sep 22, 2024
 *      Author: thuyh
 */
#include "ex10.h"
int index_col_10 = 0;
int state = 0;
void ex10_init(){
	setTimer1(0, 50);
    setTimer1(1, 400);
    updateMatrixBuffer(0x0C, 0x1E, 0x3F, 0x7F, 0x7F, 0x3F, 0x1E, 0x0C);


}
void ex10_run() {

	if(state >=8){
		state = 0;
	}
	if(index_col_10>=8){
		index_col_10 = 0;
	}
	if(timer1_flag[1]==1){
		setTimer1(1, 400);
		state++;
	}


	if(timer1_flag[0]==1){
		 updateColLEDMatrix(GPIOA, ENM0_Pin, ENM1_Pin, ENM2_Pin, ENM3_Pin, ENM4_Pin, ENM5_Pin, ENM6_Pin, ENM7_Pin, index_col_10);
		 updateRowLEDMatrix(GPIOB, ROW0_Pin, ROW1_Pin, ROW2_Pin, ROW3_Pin, ROW4_Pin, ROW5_Pin, ROW6_Pin, ROW7_Pin, index_col_10+state);
		setTimer1(0, 50);
		index_col_10++;
	}
}



