/*
 * matrix8x8_led.c
 *
 *  Created on: Sep 21, 2024
 *      Author: thuyh
 */

#include "matrix8x8_led.h"
const int MAX_LED_MATRIX = 8;
int index_led_matrix = 0;
uint8_t matrix_buffer[8] = {0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08};

void updateLEDMatrix(GPIO_TypeDef* GPIOx, uint16_t Pin0, uint16_t Pin1, uint16_t Pin2, uint16_t Pin3, uint16_t Pin4,
                     uint16_t Pin5, uint16_t Pin6, uint16_t Pin7, int index) {
    uint8_t value = matrix_buffer[index];

    switch (index) {
        case 0:
            HAL_GPIO_WritePin(GPIOx, Pin0, (value & 0x01) ? SET : RESET);
            break;
        case 1:
            HAL_GPIO_WritePin(GPIOx, Pin1, (value & 0x02) ? SET : RESET);
            break;
        case 2:
            HAL_GPIO_WritePin(GPIOx, Pin2, (value & 0x04) ? SET : RESET);
            break;
        case 3:
            HAL_GPIO_WritePin(GPIOx, Pin3, (value & 0x08) ? SET : RESET);
            break;
        case 4:
            HAL_GPIO_WritePin(GPIOx, Pin4, (value & 0x10) ? SET : RESET);
            break;
        case 5:
            HAL_GPIO_WritePin(GPIOx, Pin5, (value & 0x20) ? SET : RESET);
            break;
        case 6:
            HAL_GPIO_WritePin(GPIOx, Pin6, (value & 0x40) ? SET : RESET);
            break;
        case 7:
            HAL_GPIO_WritePin(GPIOx, Pin7, (value & 0x80) ? SET : RESET);
            break;
        default:
            break;
    }
}
